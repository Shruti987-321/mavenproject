pipeline
{
  agent any
  stages
  {
    stage('scm checkout')
    {steps {git branch: 'master', url: 'https://github.com/Shruti987-321/mavenproject' }}
stage('execute unit test framework')
    {steps { withMaven(globalMavenSettingsConfig: '',jdk: 'JAVA_HOME', maven: 'MAVEN_HOME', mavenSettingsConfig: '', traceability: true){
      sh 'mvn test'
    }  
  }
}
    stage('sonar analysis')
    {steps { withSonarQubeEnv(credentialsId: 'sonar'){
      sh 'sonar:sonar'
    }
           }
    }
    stage('generate artifacts')
    {steps { withMaven(globalMavenSettingsConfig: '',jdk: 'JAVA_HOME', maven: 'MAVEN_HOME', mavenSettingsConfig: '', traceability: true){
      sh 'mvn package'
    }  
  }
}
    
